{% extends "DataDashboard/base.html" %}
{% block import_js %}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">

{% endblock import_js %}

{% block content %}
    {% load crispy_forms_tags %}


<h1>{{ strategy.category }} Teaching Strategy</h1>

<table class="datatable" id="info_table">
    <tr>
        <td>Students:</td>
        <td>{% for student in strategy.students.all %}{{ student }} {% endfor %}</td>

    </tr>
    <tr>
        <td>Stategy:</td>
        <td>{{ strategy.strategy }}</td>
    </tr>
</table>

    <h2>Comments</h2>
    <table class="datatable" id="comment_table">
    <thead>
    <tr>
        <td>Date</td>
        <td>Comment</td>
        <td>Vote</td>
        <td>Comment by</td>
    </tr>
    </thead>
    <tbody>
        {% for comment in comments %}
            <tr>
                <td>{{ comment.date }}</td>
                <td>{{ comment.comment }}</td>
                <td>{{ comment.vote }}</td>
                <td>{{ comment.author }}</td>
            </tr>
        {% endfor %}
    </tbody>
    </table>
    <h3>Add new comment</h3>
    <form method="post">
    {% csrf_token %}
    {{ form| crispy }}
    <button type="submit">Submit</button>
    </form>
{% endblock content %}
{% block script %}

    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>

    <script>$(document).ready( function () {
    $('#comment_table').DataTable();
} );</script>
{% endblock script %}